---
---

<script>
  // Función para aplicar el tema
  function applyTheme(theme) {
    if (theme === 'dark') {
      document.documentElement.classList.add('dark');
      localStorage.setItem('theme', 'dark');
    } else {
      document.documentElement.classList.remove('dark');
      localStorage.setItem('theme', 'light');
    }
  }

  // Verificar el tema guardado o la preferencia del sistema
  const savedTheme = localStorage.getItem('theme');
  const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  const initialTheme = savedTheme || (systemPrefersDark ? 'dark' : 'light');
  
  // Aplicar el tema inicial
  applyTheme(initialTheme);

  // Manejar el cambio de tema
  function toggleTheme() {
    const isDark = document.documentElement.classList.contains('dark');
    const newTheme = isDark ? 'light' : 'dark';
    applyTheme(newTheme);
  }

  // Agregar event listener cuando el DOM esté cargado
  if (typeof document !== 'undefined') {
    document.addEventListener('DOMContentLoaded', () => {
      const themeToggle = document.getElementById('themeToggle');
      if (themeToggle) {
        themeToggle.addEventListener('click', toggleTheme);
      }
    });
  }
</script>

<div class="py-8 px-2 top-[29%] left-[40%] z-90 relative">
  <button 
    id="themeToggle"
    class="absolute cursor-pointer flex items-center justify-center bg-black/30 backdrop-blur-md rounded-full w-10 h-10 border border-black dark:border-cyan-300"
    aria-label="Toggle dark mode"
  >
    <!-- Sol (visible en modo claro) -->
    <svg 
      width="24" 
      height="24" 
      viewBox="0 0 24 24" 
      class="sun"
      fill="currentColor"
      style="color: #fbbf24;"
    >
      <path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-10.5c-2.5 0-4.5 2-4.5 4.5s2 4.5 4.5 4.5 4.5-2 4.5-4.5-2-4.5-4.5-4.5z"/>
      <path d="M12 3v-1.5h1.5v1.5h-1.5zm0 19.5v-1.5h1.5v1.5h-1.5zm10.5-10.5h-1.5v1.5h1.5v-1.5zm-19.5 0h-1.5v1.5h1.5v-1.5z"/>
      <path d="M5.6 5.6l-1.1-1.1-1.1 1.1 1.1 1.1 1.1-1.1zm14.9 14.9l-1.1-1.1-1.1 1.1 1.1 1.1 1.1-1.1z"/>
      <path d="M18.4 5.6l-1.1 1.1 1.1 1.1 1.1-1.1-1.1-1.1z"/>
      <path d="M5.6 18.4l-1.1 1.1 1.1 1.1 1.1-1.1-1.1-1.1z"/>
    </svg>
    
    <!-- Luna (visible en modo oscuro) -->
    <svg 
      width="24" 
      height="24" 
      viewBox="0 0 28 28" 
      class="moon"
      fill="currentColor"
      style="color: #3c55e3;"
    >
      <path d="M12.1 22c-0.3 0-0.6 0-0.9 0 -5.5-0.5-9.5-5.4-8.9-11 0.5-4.7 4.2-8.5 8.9-9 0.4 0 0.8 0.3 0.8 0.8 0 0.1 0 0.1 0 0.2 0 0 0 0.1 0 0.1v0c-0.3 1.3-0.4 2.6-0.4 3.9 0 5.4 4.4 9.8 9.8 9.8 1.3 0 2.6-0.3 3.8-0.7 0.1 0 0.2 0 0.3 0 0.4 0 0.8 0.3 0.9 0.7 0 0.1 0 0.1 0 0.2v0.1c-0.5 4.7-4.3 8.4-9 8.9 -0.2 0-0.3 0-0.5 0z"/>
    </svg>
  </button>
</div>

<style>
  /* Estilos para manejar la visibilidad de los iconos con mayor especificidad */
  html:not(.dark) #themeToggle .sun {
    display: block !important;
  }
  
  html:not(.dark) #themeToggle .moon {
    display: none !important;
  }
  
  html.dark #themeToggle .sun {
    display: none !important;
  }
  
  html.dark #themeToggle .moon {
    display: block !important;
  }
  
  /* Transición suave */
  #themeToggle .sun,
  #themeToggle .moon {
    transition: opacity 0.3s ease;
  }
</style>
